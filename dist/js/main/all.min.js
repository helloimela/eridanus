var app=angular.module("eridanus",["ngRoute","ngAnimate","ngSanitize"]);app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"partials/home.html",controller:"HomeCtrl",animation:"home"}).when("/about",{templateUrl:"partials/about.html",controller:"AboutCtrl",animation:"about"}).when("/portfolio/:itemId",{templateUrl:"partials/portfolio.html",controller:"PortItemCtrl",animation:"pt"}),$locationProvider.html5Mode({enabled:!1,requireBase:!1})}]),app.controller("MainCtrl",["$sce","$http","$scope","$location","$rootScope",function($sce,$http,$scope,$location,$rootScope){$scope.go=function(path){$location.path(path)},$rootScope.$on("$routeChangeStart",function(event,currRoute,prevRoute){$rootScope.animation=currRoute.animation}),$scope.$sce=$sce,$scope.menuClick=function(){$scope.currPath=$location.$$path,"/about"===$scope.currPath?(window.history.back(),$scope.menuState=""):($location.path("/about/"),$scope.menuState="close")}}]),app.controller("HomeCtrl",["$http","$location","$scope",function($http,$location,$scope,$rootScope){$http.get("js/portfolioData.json").then(function(data){$scope.items=data.data}),$scope.pageClass="home-anim",$scope.ptclick=function(pttarget){$scope.activeMenu=pttarget.id,$scope.pageStat="pageFade",$location.path("/portfolio/"+pttarget.id)}}]),app.controller("AboutCtrl",["$http","$scope",function($http,$scope,$rootScope){$scope.pageClass="about-anim"}]),app.controller("PortItemCtrl",["$scope","$http","$routeParams",function($scope,$http,$routeParams){$scope.name="PortItemCtrl",$http.get("js/portfolioData.json").then(function(data){$scope.itemDetail=data.data[$routeParams.itemId]}),$scope.$back=function(){window.history.back()},$scope.pageClass="pt-anim-ctr"}]),app.directive("pageBg",[function(){return{templateUrl:"partials/pageBg.html"}}]),app.directive("pageBgpt",[function(){return{templateUrl:"partials/pageBgpt.html"}}]),app.directive("logo",[function(){return{templateUrl:"partials/logo.html"}}]),app.directive("nav",["$location",function($location){return{restrict:"E",templateUrl:"partials/nav.html"}}]);